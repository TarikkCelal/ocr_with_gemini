# OCR and Text Cleaning Application

## Description

This Python application uses Optical Character Recognition (OCR) to extract text from images and then employs the Gemini language model to clean and correct potential errors in the extracted text.  It provides a simple graphical user interface (GUI) built with Streamlit.

## Features

* **Image Upload:** Users can upload image files (png, jpg, jpeg) through a Streamlit interface.
* **Image Preprocessing:**
    * **Grayscale Conversion:** Optionally convert the uploaded image to grayscale.
    * **Thresholding:** Optionally apply thresholding to the image with an adjustable threshold value.
* **OCR Processing:** Extracts text from the (potentially preprocessed) image using the Tesseract OCR engine.
* **Text Cleaning with Gemini:** Uses the Gemini language model to correct errors in the OCR output, specifically:
    * Corrects common OCR errors (e.g., mistaking numbers for letters).
    * Preserves the original form of words (e.g., Ottoman/Old Turkish).
    * Removes nonsensical or repeated words.
    * Does not add punctuation.
* **Output Display:**
    * Displays the uploaded image.
    * Displays the preprocessed image(s) if the user applies grayscale or thresholding.
    * Displays the raw OCR output.
    * Displays the cleaned text generated by Gemini.

## Requirements

* Python 3.6 or higher
* Tesseract OCR engine (installed separately on the system)
* Python kütüphaneleri:
    * Pillow (`PIL`)
    * pytesseract
    * streamlit
    * os
    * google.generativeai
    * dotenv

## Installation

1.  **Install Tesseract OCR:**
    * Download and install the Tesseract OCR engine from a suitable source for your operating system.  Make sure to install the Turkish language pack as well.
    * Note the installation path.  You'll need this in the next step.

2.  **Create a Virtual Environment (Recommended):**

    ```bash
    python -m venv venv
    source venv/bin/activate  # Linux/macOS
    venv\Scripts\activate  # Windows
    ```

3.  **Install Python Dependencies:**

    ```bash
    pip install Pillow pytesseract streamlit google-generativeai dotenv
    ```

4.  **Configure Tesseract Path:**
    * Locate the `tesseract.exe` file on your system.
    * In the Python code, ensure the `pytesseract.pytesseract.tesseract_cmd` variable is set to the correct path.  For example:
        ```python
        pytesseract.pytesseract.tesseract_cmd = r"C:\Program Files\Tesseract-OCR\tesseract.exe"  # Or your actual path
        ```

5.  **Configure Gemini API Key:**
    * Obtain an API key from Google for the Gemini API.
    * Create a file named `.env` in the same directory as your Python script.
    * Add your Gemini API key to the `.env` file:
        ```
        GEMINI_API_KEY=YOUR_API_KEY
        ```
        Replace `YOUR_API_KEY` with your actual API key.

## Usage

1.  Run the Streamlit application:

    ```bash
    streamlit run your_script_name.py
    ```

    (Replace `your_script_name.py` with the actual name of your Python file.)

2.  The application will open in your web browser.

3.  Upload an image file.

4.  Optionally apply grayscale and/or thresholding.

5.  Click the "OCR ve Temizle" button to process the image.

6.  The application will display the original image, any processed images, the raw OCR output, and the cleaned text from Gemini.
